{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js"],"sourcesContent":["\n\n// Описаний у документації\nimport SimpleLightbox from \"simplelightbox\";\n// Додатковий імпорт стилів\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\nconst getGallery = document.querySelector('.gallery');\nconst getForm = document.querySelector(\".js-search-form\");\n\n\n// створення функції що створює розмітку для картки \nexport function itemTemplate(images) {\n    getImage.innerHTML = '';\n      images.forEach(image => {\n        const card =\n            `<li class=\"gallery-item\">\n  <a class=\"gallery-link\" href=\"${largeImageURL}\">\n    <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\" />\n  </a>\n   <div class=\"image-details\">\n                    <p>Likes: ${image.likes}</p>\n                    <p>Views: ${image.views}</p>\n                    <p>Comments: ${image.comments}</p>\n                    <p>Downloads: ${image.downloads}</p>\n                </div>\n</li>`;\n        getImage.innerHTML += card;\n    })\n}\n    \n\n\nconst lightbox = new SimpleLightbox(\".gallery a\", { captionsData: \"alt\", aptionDelay: 250, captionPosition: 'bottom' });\nlightbox.refresh();\n\n","// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport { itemTemplate } from './render-functions';\n\nconst searchForm = document.querySelector('.js-search-form');\nconst getImage = document.querySelector(\".gallery\");\n\n\n\nsearchForm.addEventListener('submit', e => {\n    e.preventDefault();\n    const query = e.target.elements.search.value;\n    getPostsByUser(query)\n        .then(data => {\n            if (data.hits.length === 0) {\n                // Показати повідомлення про відсутність зображень\n                iziToast.error({\n                    title: 'Error',\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\n                    position: 'topCenter'\n                });\n            }\n            else {\n                // Обробити отримані дані зображень\n                itemTemplate(data.hits);\n            }\n        })\n        .catch(error => {\n            // Обробити помилку запиту\n            console.error('There was a problem with the fetch operation:', error);\n            // Показати повідомлення про помилку\n            iziToast.error({\n                title: 'Error',\n                message: 'There was a problem with the fetch operation. Please try again later.',\n                position: 'topCenter'\n            });\n            e.target.reset();\n        });\n});\n\n \nfunction getPostsByUser(query) {\n    const BASE_URL = \"https://pixabay.com\";\n    const END_POINT = '/api/';\n    const API_KEY = '42305658-75508782eac06a666c1fb928b';\n\n    const params = {\n        key: API_KEY,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: 'true',\n        q: query\n    \n    };\n\n\n    const url = `${BASE_URL}${END_POINT}?${new URLSearchParams(params)}`;\n\n    \n\n   return fetch(url).then(res => res.json());\n    };\n\n    function displayImages(image) {\n        return `<ul class='gallery'><li class=\"gallery-item\">\n    <img class=\"gallery-image\" src=\"${image.previewURL}\" alt=\"#\"/></li></ul>`\n    \n    };\n    function renderImage(data) {\n        const markup = data.map(displayImages).join('');\n\n        getImage.innerHTML = `<ul class='gallery'>${markup}</ul>`\n        \n    }"],"names":["itemTemplate","images","image","card","lightbox","SimpleLightbox","searchForm","e","query","getPostsByUser","data","iziToast","error","BASE_URL","END_POINT","params","url","res"],"mappings":"6vBAQmB,SAAS,cAAc,UAAU,EACpC,SAAS,cAAc,iBAAiB,EAIjD,SAASA,EAAaC,EAAQ,CACjC,SAAS,UAAY,GACnBA,EAAO,QAAQC,GAAS,CACtB,MAAMC,EACF;AAAA,kCACsB,aAAa;AAAA,sCACT,YAAY,UAAU,IAAI;AAAA;AAAA;AAAA,gCAGhCD,EAAM,KAAK;AAAA,gCACXA,EAAM,KAAK;AAAA,mCACRA,EAAM,QAAQ;AAAA,oCACbA,EAAM,SAAS;AAAA;AAAA,OAG3C,SAAS,WAAaC,CAC9B,CAAK,CACL,CAIA,MAAMC,EAAW,IAAIC,EAAe,aAAc,CAAE,aAAc,MAAO,YAAa,IAAK,gBAAiB,QAAU,CAAA,EACtHD,EAAS,QAAS,EC5BlB,MAAME,EAAa,SAAS,cAAc,iBAAiB,EAC1C,SAAS,cAAc,UAAU,EAIlDA,EAAW,iBAAiB,SAAUC,GAAK,CACvCA,EAAE,eAAc,EAChB,MAAMC,EAAQD,EAAE,OAAO,SAAS,OAAO,MACvCE,EAAeD,CAAK,EACf,KAAKE,GAAQ,CACNA,EAAK,KAAK,SAAW,EAErBC,EAAS,MAAM,CACX,MAAO,QACP,QAAS,2EACT,SAAU,WAC9B,CAAiB,EAIDX,EAAaU,EAAK,IAAI,CAEtC,CAAS,EACA,MAAME,GAAS,CAEZ,QAAQ,MAAM,gDAAiDA,CAAK,EAEpED,EAAS,MAAM,CACX,MAAO,QACP,QAAS,wEACT,SAAU,WAC1B,CAAa,EACDJ,EAAE,OAAO,OACrB,CAAS,CACT,CAAC,EAGD,SAASE,EAAeD,EAAO,CAC3B,MAAMK,EAAW,sBACXC,EAAY,QAGZC,EAAS,CACX,IAHY,qCAIZ,WAAY,QACZ,YAAa,aACb,WAAY,OACZ,EAAGP,CAEX,EAGUQ,EAAM,GAAGH,CAAQ,GAAGC,CAAS,IAAI,IAAI,gBAAgBC,CAAM,CAAC,GAInE,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAOA,EAAI,KAAI,CAAE,CAC3C"}