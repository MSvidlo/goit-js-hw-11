{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js"],"sourcesContent":["// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\n// Описаний у документації\nimport SimpleLightbox from \"simplelightbox\";\n// Додатковий імпорт стилів\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\nconst searchForm = document.querySelector('.js-search-form');\nconst getImage = document.querySelector(\".gallery\");\n\n\n\nsearchForm.addEventListener('submit', e => {\n    e.preventDefault();\n    const query = e.target.elements.search.value;\n    getPostsByUser(query)\n        .then(data => {\n            if (data.hits.length === 0) {\n                // Показати повідомлення про відсутність зображень\n                iziToast.error({\n                    title: 'Error',\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\n                    position: 'topCenter'\n                });\n            }\n            else {\n                // Обробити отримані дані зображень\n                itemTemplate(data.hits);\n            }\n        })\n        .catch(error => {\n            // Обробити помилку запиту\n            console.error('There was a problem with the fetch operation:', error);\n            // Показати повідомлення про помилку\n            iziToast.error({\n                title: 'Error',\n                message: 'There was a problem with the fetch operation. Please try again later.',\n                position: 'topCenter'\n            });\n            e.target.reset();\n        });\n});\n\n \nfunction getPostsByUser(query) {\n    const BASE_URL = \"https://pixabay.com\";\n    const END_POINT = '/api/';\n    const API_KEY = '42305658-75508782eac06a666c1fb928b';\n\n    const params = {\n        key: API_KEY,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: 'true',\n        q: query\n    \n    };\n\n\n    const url = `${BASE_URL}${END_POINT}?${new URLSearchParams(params)}`;\n\n    \n\n   return fetch(url).then(res => res.json());\n    };\n\n   function itemTemplate(images) {\n    getImage.innerHTML = '';\n      images.forEach(image => {\n        const card =\n            `<li class=\"gallery-item\">\n  <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n    <img class=\"gallery-image\" src=\"${image.webformatURL}\" alt=\"${image.tags}\" />\n  </a>\n   <div class=\"image-details\">\n                    <p>Likes: ${image.likes}</p>\n                    <p>Views: ${image.views}</p>\n                    <p>Comments: ${image.comments}</p>\n                    <p>Downloads: ${image.downloads}</p>\n                </div>\n</li>`;\n        getImage.innerHTML += card;\n    })\n}\n    \n\nconst lightbox = new SimpleLightbox(\".gallery a\", { captionsData: \"alt\", captionDelay: 250, captionPosition: 'bottom' });\nlightbox.refresh();"],"names":["searchForm","getImage","e","query","getPostsByUser","data","iziToast","itemTemplate","error","BASE_URL","END_POINT","params","url","res","images","image","card","lightbox","SimpleLightbox"],"mappings":"wvBAYA,MAAMA,EAAa,SAAS,cAAc,iBAAiB,EACrDC,EAAW,SAAS,cAAc,UAAU,EAIlDD,EAAW,iBAAiB,SAAUE,GAAK,CACvCA,EAAE,eAAc,EAChB,MAAMC,EAAQD,EAAE,OAAO,SAAS,OAAO,MACvCE,EAAeD,CAAK,EACf,KAAKE,GAAQ,CACNA,EAAK,KAAK,SAAW,EAErBC,EAAS,MAAM,CACX,MAAO,QACP,QAAS,2EACT,SAAU,WAC9B,CAAiB,EAIDC,EAAaF,EAAK,IAAI,CAEtC,CAAS,EACA,MAAMG,GAAS,CAEZ,QAAQ,MAAM,gDAAiDA,CAAK,EAEpEF,EAAS,MAAM,CACX,MAAO,QACP,QAAS,wEACT,SAAU,WAC1B,CAAa,EACDJ,EAAE,OAAO,OACrB,CAAS,CACT,CAAC,EAGD,SAASE,EAAeD,EAAO,CAC3B,MAAMM,EAAW,sBACXC,EAAY,QAGZC,EAAS,CACX,IAHY,qCAIZ,WAAY,QACZ,YAAa,aACb,WAAY,OACZ,EAAGR,CAEX,EAGUS,EAAM,GAAGH,CAAQ,GAAGC,CAAS,IAAI,IAAI,gBAAgBC,CAAM,CAAC,GAInE,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAOA,EAAI,KAAI,CAAE,CAE3C,CACG,SAASN,EAAaO,EAAQ,CAC7Bb,EAAS,UAAY,GACnBa,EAAO,QAAQC,GAAS,CACtB,MAAMC,EACF;AAAA,kCACsBD,EAAM,aAAa;AAAA,sCACfA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA,gCAG5CA,EAAM,KAAK;AAAA,gCACXA,EAAM,KAAK;AAAA,mCACRA,EAAM,QAAQ;AAAA,oCACbA,EAAM,SAAS;AAAA;AAAA,OAG3Cd,EAAS,WAAae,CAC9B,CAAK,CACL,CAGA,MAAMC,EAAW,IAAIC,EAAe,aAAc,CAAE,aAAc,MAAO,aAAc,IAAK,gBAAiB,QAAU,CAAA,EACvHD,EAAS,QAAS"}